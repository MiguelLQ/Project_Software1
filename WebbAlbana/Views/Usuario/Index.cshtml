@model IEnumerable<albanaPlayaEst.Models.Usuario>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />

@{
    ViewData["Title"] = "Usuarios Registrados";
}
@if (User.IsInRole("Administrador"))
{
    <p class="text-center">
    <a asp-action="Create" class="btn btn-primary">
        <i class="fas fa-plus"></i> Crear Nuevo Usuario
    </a>
</p>
<div class="main-content container">
    <div class="row">
        <div class="col-md-12">
            <div class="table-wrapper shadow-sm rounded bg-white p-3">

                <div class="table-title d-flex justify-content-between align-items-center mb-3">
                    <h2 class="mb-0">Usuarios Registrados</h2>
                </div>

                <table class="table table-sm table-striped table-hover table-bordered" id="myTablew">
                    <thead class="thead-dark">
                        <tr>
                            <th>@Html.DisplayNameFor(model => model.Nombre)</th>
                            <th>@Html.DisplayNameFor(model => model.Correo)</th>
                            <th>@Html.DisplayNameFor(model => model.Roles)</th>
                            <th class="text-center">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>@Html.DisplayFor(modelItem => item.Nombre)</td>
                                <td>@Html.DisplayFor(modelItem => item.Correo)</td>
                                <td>@Html.DisplayFor(modelItem => item.Roles)</td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center">
                                        <a asp-action="Edit" asp-route-id="@item.Id_user" class="btn btn-sm btn-warning mx-1" title="Editar Usuario">
                                            <i class="fas fa-edit"></i> 
                                        </a>
                                        <a asp-action="Details" asp-route-id="@item.Id_user" class="btn btn-sm btn-info mx-1" title="Ver Detalles">
                                            <i class="fas fa-info-circle"></i> 
                                        </a>
                                        <a asp-action="Delete" asp-route-id="@item.Id_user" class="btn btn-sm btn-danger mx-1" title="Eliminar Usuario">
                                            <i class="fas fa-trash-alt"></i> 
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>
}
@section Scripts
{
 <script>
     $(document).ready(function() {
         $('#myTablew').DataTable({
             "language": {
                 "sProcessing": "Procesando...",
                 "sLengthMenu": "Mostrar _MENU_ registros",
                 "sZeroRecords": "No se encontraron resultados",
                 "sEmptyTable": "Ningún dato disponible en esta tabla",
                 "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                 "sInfoEmpty": "Mostrando 0 registros de un total de 0 registros",
                 "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                 "sSearch": "Buscar:",
                 "oPaginate": {
                     "sFirst": "Primero",
                     "sPrevious": "Anterior",
                     "sNext": "Siguiente",
                     "sLast": "Último"
                 }
             }
         });
     });
 </script>
}

